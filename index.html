<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>fontvuer</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:700&display=swap&text=Youcanhieftgsyl." rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/4.5.95/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- HEADER BEGIN -->
  <header>
    <!-- TOP BAR BEGIN -->
    <div class="top-bar">
      <h1>
        <img src="./icon.svg" title="logo" width="32" height="32">
        <span>fontvuer</span>
      </h1>
      <div class="flex-space"></div>
      <div class="ul">
        <a href="#download" title="download"><div class="li">Download</div></a>
      </div>
    </div>
    <!-- TOP BAR END -->
    <section class="eyecatch">
      <h2><span>You can choice a <span>f</span><span>o</span><span>n</span><span>t</span>.</span></h2>
      <p><span>You can change the styles.</span></p>
      <div class="button"><a href="#download" title="download"><span>DOWNLOAD</span></a></div>
    </section>
  </header>
  <!-- HEADER END -->
  <main>
    <article>
      <section>
        <div class="content">
          <h3>Listed fonts</h3>
          <p>This software list all fonts that is installed in your computer.</p>
        </div>
      </section>
      <section>
        <div class="content">
          <h3>Change text</h3>
          <p>You can look for a font with your hope text.</p>
        </div>
      </section>
    </article>
    <article>
      <section id="download" class="download">
        <h3>Download</h3>
        <div id="latest" style="display:none;">
          <div>
            <h4>Windows</h4>
            <p><a id="windows" target="_blank" rel="noreferrer"></a></p>
          </div>
          <div>
            <h4>macOS</h4>
            <p><a id="mac" target="_blank" rel="noreferrer"></a></p>
          </div>
          <div>
            <h4>Linux</h4>
            <p><a id="linux" target="_blank" rel="noreferrer"></a></p>
          </div>
        </div>
        <p id="githubLink"><a href="https://github.com/ssssota/fontvuer/releases" target="_blank" rel="noreferrer">Other versions.<span class="mdi mdi-open-in-new"></span></a></p>
      </section>
      <section>
        <h3>This software is Open Source</h3>
        <p>You can customize.</p>
        <p>Please contribute development for "fontvuer" if you can.</p>
      </section>
      <section>
        <h3>Developer</h3>
        <div class="developers">
          <div class="developer">
            <h4>ssssota</h4>
            <p class="description">Please donate ;)</p>
            <p class="action">
              <a href="https://github.com/ssssota" rel="noreferrer" title="github" target="_blank"><span class="mdi mdi-github-circle"></span></a>
              <a href="https://twitter.com/ssssotaro" rel="noreferrer" title="twitter" target="_blank"><span class="mdi mdi-twitter"></span></a>
            </p>
          </div>
        </div>
      </section>
    </article>
  </main>
  <footer>
    <small>Copyright &copy; 2019 Sotaro Tommykawa.</small>
  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const res = await fetch('https://api.github.com/repos/ssssota/fontvuer/releases/latest')
      const json = await res.json()
      const latestVersion = json['tag_name'].substring(1)
      const windows = json.assets.filter(asset => asset.name.endsWith('.exe'))[0]
      const mac = json.assets.filter(asset => asset.name.endsWith('.dmg'))[0]
      const linux = json.assets.filter(asset => asset.name.endsWith('.AppImage'))[0]

      const $windows = document.querySelector('#windows')
      $windows.textContent = windows.name
      $windows.href = windows["browser_download_url"]
      const $mac = document.querySelector('#mac')
      $mac.textContent = mac.name
      $mac.href = mac["browser_download_url"]
      const $linux = document.querySelector('#linux')
      $linux.textContent = linux.name
      $linux.href = linux["browser_download_url"]

      document.querySelector('#latest').style.display = 'flex'
    })
  </script>
</body>
</html>